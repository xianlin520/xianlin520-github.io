"use strict";(self["webpackChunkxianlin_vue2"]=self["webpackChunkxianlin_vue2"]||[]).push([[867],{7867:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"MyRegister"}},[s("div",{staticClass:"register"},[s("div",{staticClass:"box"},[s("p",{staticClass:"table"},[t._v("注册 千寻云")]),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.name,expression:"userData.name"}],staticClass:"input",attrs:{placeholder:"输入昵称(输入后可注册)",type:"text"},domProps:{value:t.userData.name},on:{input:function(e){e.target.composing||t.$set(t.userData,"name",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.account,expression:"userData.account"}],staticClass:"input",attrs:{placeholder:t.inputAccount,type:"text"},domProps:{value:t.userData.account},on:{blur:t.judge,input:function(e){e.target.composing||t.$set(t.userData,"account",e.target.value)}}}),s("div",{staticClass:"smsCode"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.check,expression:"userData.check"}],staticClass:"smsCodeText",attrs:{placeholder:"输入验证码"},domProps:{value:t.userData.check},on:{input:function(e){e.target.composing||t.$set(t.userData,"check",e.target.value)}}}),s("el-button",{staticClass:"smsCodeBtn",attrs:{disabled:t.smsCodeBtnDisabled},on:{click:t.getSmsCode}},[t._v(t._s(t.smsCodeBtnText)+" ")])],1),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.password,expression:"userData.password"}],staticClass:"input",attrs:{placeholder:"输入密码",type:"password"},domProps:{value:t.userData.password},on:{input:function(e){e.target.composing||t.$set(t.userData,"password",e.target.value)}}}),s("input",{staticClass:"input",attrs:{placeholder:"再次输入密码",type:"password"}}),0!==t.userData.name.length?s("el-button",{staticClass:"my-button",on:{click:t.pushUserData}},[t._v("GO!")]):s("el-button",{staticClass:"my-button",on:{click:t.toLogin}},[t._v("已有账号, 前去登录")])],1)])])},n=[],o=(s(8309),{name:"MyRegister",data:function(){return{userData:{name:"",account:"",password:"",check:"",portrait:""},inputAccount:"请输入邮箱账号",smsCodeBtnText:"获取验证码",smsCodeBtnDisabled:!1}},methods:{pushUserData:function(){var t=this;""!==this.userData.name&&""!==this.userData.account&&""!==this.userData.check&&this.$axios.put("/users",this.userData).then((function(e){420===e.data.code?t.$message({message:"验证码错误, 请重新获取",type:"warning"}):200===e.data.code?t.$message({message:"登录成功",type:"success"}):t.$message.error("登录失败")}))},getSmsCode:function(){var t=this;this.sendSmsCode();var e=30;this.smsCodeBtnDisabled=!0,this.smsCodeBtnText="".concat(e,"s");var s=setInterval((function(){e<=0?(clearInterval(s),t.smsCodeBtnDisabled=!1,t.smsCodeBtnText="获取验证码"):(e--,t.smsCodeBtnText="".concat(e,"s"))}),1e3)},sendSmsCode:function(){var t=this;""!==this.userData.account&&this.$axios.get("/email/"+this.userData.account).then((function(e){t.$message({message:"验证码发送成功",type:"success"})}))},toLogin:function(){this.$router.push("/login")},testLog:function(){console.log("TestLog")},judge:function(){var t=this;this.$axios.get("/users/"+this.userData.account).then((function(e){e.data.data&&(t.userData.account="",t.inputAccount="该账号已存在")}))}},mounted:function(){document.title="MyRegister"}}),u=o,i=s(1001),r=(0,i.Z)(u,a,n,!1,null,"c9491054",null),c=r.exports}}]);
//# sourceMappingURL=867-legacy.7a0d06ef.js.map